"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2183],{2183:(I,p,a)=>{a.r(p),a.d(p,{LogniPage:()=>y});var c=a(6895),r=a(4006),s=a(2879),u=a(6159),h=a(3016),_=a(4132),t=a(4650),f=a(782);function v(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"mat-grid-tile",2),t.NdJ("click",function(){const g=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.buttonSelected(g))}),t.TgZ(1,"div",3),t._uU(2),t.qZA()()}if(2&o){const e=l.$implicit,n=t.oxw();t.Udp("background","url("+e.backgroundImg+") center")("background-color",""!==e.backgroundColor?e.backgroundColor:"rgba(255,255,255,0.6)")("background-size","cover"),t.xp6(1),t.Tol(n.labelClass),t.Udp("color",e.color),t.xp6(1),t.hij(" ",e.label," ")}}let C=(()=>{class o{constructor(){this.buttons=[],this.classWrapper="",this.columns=2,this.labelClass="mat-headline",this.gutterSize="5%",this.rowHeight="1:1",this.buttonClicked=new t.vpe}ngOnInit(){}ngOnChanges(){}buttonSelected(e){this.buttonClicked.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-custom-buttons"]],inputs:{buttons:"buttons",classWrapper:"classWrapper",columns:"columns",labelClass:"labelClass",gutterSize:"gutterSize",rowHeight:"rowHeight"},outputs:{buttonClicked:"buttonClicked"},standalone:!0,features:[t.TTD,t.jDz],decls:3,vars:6,consts:[[1,"grid-layout-custom",3,"cols","rowHeight","gutterSize"],["class","selectable mat-grid-tile-rounded","style","background-blend-mode: lighten; border-radius: 10%;",3,"background","background-color","background-size","click",4,"ngFor","ngForOf"],[1,"selectable","mat-grid-tile-rounded",2,"background-blend-mode","lighten","border-radius","10%",3,"click"],[1,"text-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"mat-grid-list",0),t.YNc(2,v,3,11,"mat-grid-tile",1),t.qZA()()),2&e&&(t.Tol(n.classWrapper),t.xp6(1),t.Q6J("cols",n.columns)("rowHeight",n.rowHeight)("gutterSize",n.gutterSize),t.xp6(1),t.Q6J("ngForOf",n.buttons))},dependencies:[s.Pc,c.ez,c.sg,h.h,f.Il,f.DX]}),o})();const d="https://firebasestorage.googleapis.com/v0/b/clinica-online-ed9da.appspot.com/o/dummy-user.png?alt=media&token=b2a28ad5-e220-494b-80c5-10fb8348eac4",b=[{uid:"100001",email:"vhqtftpagtpwsllkxx@bbitq.com",password:"Password_123",label:"Admin",imagen:d},{uid:"100002",email:"hnitisnpwqlyilpcxl@tcwlx.com",password:"Password_123",label:"Verified",imagen:d},{uid:"100003",email:"afurtzywqmhuihnsyj@tpwlb.com",password:"Password_123",label:"Not Verified",imagen:d}];var x=a(3651);function w(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"app-custom-buttons",29),t.NdJ("buttonClicked",function(i){t.CHM(e);const g=t.oxw(2);return t.KtG(g.loadLoginForm(i))}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("buttons",e.mockUsersButtons)("classWrapper","feature-container-login")("columns",3)}}function Z(o,l){1&o&&(t.TgZ(0,"ion-note",30),t._uU(1,"Invalid email format"),t.qZA())}function P(o,l){1&o&&(t.TgZ(0,"div",31),t._uU(1," Login failed, please re-enter your credentials "),t.qZA())}function T(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._uU(3," \u{1f44b} Welcome "),t.qZA(),t.TgZ(4,"div",8),t._uU(5,"Sign in to continue!!"),t.qZA()(),t.TgZ(6,"div",9)(7,"div",10),t.YNc(8,w,1,3,"app-custom-buttons",11),t.qZA(),t.TgZ(9,"form",12),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleLogIn())}),t.TgZ(10,"ion-item",13)(11,"ion-label",14),t._uU(12,"Email"),t.qZA(),t._UZ(13,"ion-input",15),t.YNc(14,Z,2,0,"ion-note",16),t.qZA(),t.TgZ(15,"ion-item",17)(16,"ion-label",14),t._uU(17,"Password"),t.qZA(),t._UZ(18,"ion-input",18),t.TgZ(19,"ion-button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.togglePasswordVisibility())}),t._UZ(20,"ion-icon",20),t.qZA()(),t.TgZ(21,"div",21),t._uU(22," I'm a new user\xa0 "),t.TgZ(23,"a",22),t._uU(24,"Sign Up?"),t.qZA()(),t.YNc(25,P,2,0,"div",23),t.TgZ(26,"div",24)(27,"ion-button",25),t._uU(28," Login "),t.qZA(),t.TgZ(29,"div",26),t._uU(30,"Or"),t.qZA(),t.TgZ(31,"ion-button",27),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.handleGoogleAuth())}),t._UZ(32,"ion-icon",28),t._uU(33," \xa0\xa0Google Signin "),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.mockUsersButtons.length>0),t.xp6(1),t.Q6J("formGroup",e.loginForm),t.xp6(5),t.Q6J("ngIf",e.loginForm.get("email").touched),t.xp6(4),t.Q6J("type",e.hidePassword?"password":"text"),t.xp6(2),t.Q6J("name",e.hidePassword?"eye-off-outline":"eye-outline"),t.xp6(5),t.Q6J("ngIf",e.invalidCredentials),t.xp6(2),t.Q6J("disabled",!e.loginForm.valid||e.invalidCredentials)}}function k(o,l){1&o&&t._UZ(0,"app-spinner",32),2&o&&t.Q6J("optionalMessage","Signing In")}let y=(()=>{class o{constructor(e,n,i){this.auth=e,this._router=n,this.fb=i,this.attemptingSingIn=!1,this.hidePassword=!0,this.invalidCredentials=!1,this.mockUsersButtons=[]}ngOnInit(){b.forEach(e=>{this.mockUsersButtons.push({id:e.uid,color:"grey",label:e.label,backgroundImg:e.imagen})}),this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]}),this.loginForm.valueChanges.subscribe(()=>{this.invalidCredentials=!1})}ngOnDestroy(){console.log("Cleared")}loadLoginForm(e){var n,i;let g=b.find(m=>m.uid==e.id);null===(n=this.loginForm.get("email"))||void 0===n||n.setValue(g.email),null===(i=this.loginForm.get("password"))||void 0===i||i.setValue(g.password)}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}handleLogIn(){this.attemptingSingIn=!0,this.auth.SignIn(this.loginForm.get("email").value,this.loginForm.get("password").value).then(()=>{this.auth.afAuth.authState.subscribe(e=>{e&&(this._router.navigate(["/home"]),this.attemptingSingIn=!1)})}).catch(e=>{this.attemptingSingIn=!1,this.invalidCredentials=!0})}handleGoogleAuth(){this.auth.GoogleAuth()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.e),t.Y36(u.F0),t.Y36(r.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-logni"]],hostBindings:function(e,n){1&e&&t.NdJ("unloaded",function(){return n.ngOnDestroy()})},standalone:!0,features:[t.jDz],decls:8,vars:3,consts:[[3,"fullscreen"],["class","container p-4","style","min-height: 100%;",4,"ngIf","ngIfElse"],["spinner",""],["color","white"],[1,"copyright"],[1,"container","p-4",2,"min-height","100%"],[1,"row"],[1,"col-12","h1","heading","mt-4"],[1,"col-12","para","ml-5"],[1,"row","mt-5"],[1,"p-4","mb-4"],[3,"buttons","classWrapper","columns","buttonClicked",4,"ngIf"],[3,"formGroup","ngSubmit"],["lines","full",1,"mb-3"],["position","floating"],["type","email","placeholder","name@domain.com","formControlName","email","errorText","Invalid email","helperText","fill the email","legacy","true"],["slot","error",4,"ngIf"],["lines","full","errorText","Invalid password",1,"mb-3"],["placeholder","**********","formControlName","password","helperText","fill the password","legacy","true",3,"type"],["size","default","slot","end","fill","clear",1,"pt-3","icon-button",3,"click"],["color","primary",1,"iconEye",3,"name"],[1,"signup-text"],["routerLink","/register","routerLinkActive","active",1,"mat-subheading-2"],["class","m-4 text-danger",4,"ngIf"],[1,"mt-4"],["type","submit","expand","block",1,"login-button","mt-4","mb-3",3,"disabled"],[1,"separator","mb-3","col-10","offset-1"],["expand","block","color","danger",1,"google-button",3,"click"],["name","logo-google"],[3,"buttons","classWrapper","columns","buttonClicked"],["slot","error"],[1,"m-4","text-danger"],[3,"optionalMessage"]],template:function(e,n){if(1&e&&(t.TgZ(0,"ion-content",0),t.YNc(1,T,34,7,"div",1),t.YNc(2,k,1,1,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"ion-footer",3)(5,"ion-toolbar")(6,"p",4),t._uU(7,"All rights reserved \u24b8 ACoria 2023"),t.qZA()()()),2&e){const i=t.MAs(3);t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",!n.attemptingSingIn)("ngIfElse",i)}},dependencies:[s.Pc,s.YG,s.W2,s.fr,s.gu,s.pK,s.Ie,s.Q$,s.uN,s.sr,s.j9,s.Fo,c.ez,c.O5,r.u5,r._Y,r.JJ,r.JL,u.Bz,u.rH,u.Od,r.UX,r.sg,r.u,h.h,_.O,C],styles:[".heading[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.para[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:#a6abb1}.login-button[_ngcontent-%COMP%], .google-button[_ngcontent-%COMP%]{height:50px;--border-radius: 12px;--box-shadow: none}.signup-text[_ngcontent-%COMP%]{padding-right:20px;text-align:end}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]{display:block;order:1;width:100%;z-index:10}.copyright[_ngcontent-%COMP%]{text-align:center}.iconEye[_ngcontent-%COMP%]{font-size:26px}.icon-button[_ngcontent-%COMP%]{--ripple-color: #ffffff}ion-item[_ngcontent-%COMP%]{background:transparent;--highlight-height: 1px;--highlight-color-valid: #2e723d;--highlight-color-focused: #eac402;--highlight-color-invalid: #ff6e64}.full-width[_ngcontent-%COMP%]{width:100%}"]}),o})()}}]);