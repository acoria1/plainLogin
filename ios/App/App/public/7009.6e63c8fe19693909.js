"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7009],{7009:(b,g,r)=>{r.r(g),r.d(g,{RegisterPage:()=>A});var p=r(5861),d=r(6895),o=r(4006),a=r(2879),c=r(6159),m=r(3726),h=r(3016);let f=(()=>{class n{static spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.checkPasswords=l=>l.get("password").value===l.get("confirmPassword").value?null:{notSame:!0},n})();var v=r(4132),e=r(4650),_=r(3651);function Z(n,l){1&n&&(e.TgZ(0,"ion-note",30),e._uU(1,"Invalid email format"),e.qZA())}function P(n,l){1&n&&(e.TgZ(0,"ion-content",31),e._uU(1,"Password must be at least 8 characters long, contain 1 uppercase letter, 1 lowercase letter and 1 special character (i.e. @!#$)."),e.qZA())}function x(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e._uU(3,"\u{1f680} Create Account"),e.qZA(),e.TgZ(4,"div",8),e._uU(5,"Sign up to get started!"),e.qZA()(),e.TgZ(6,"div",9)(7,"form",10)(8,"ion-item",11)(9,"ion-label",12),e._uU(10,"Email"),e.qZA(),e._UZ(11,"ion-input",13),e.YNc(12,Z,2,0,"ion-note",14),e.qZA(),e.TgZ(13,"ion-item",15)(14,"ion-label",12),e._uU(15,"Password"),e.qZA(),e._UZ(16,"ion-input",16),e.TgZ(17,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePasswordVisibility(0))}),e._UZ(18,"ion-icon",18),e.qZA()(),e.TgZ(19,"ion-item",19)(20,"ion-label",12),e._uU(21,"Confirm Password"),e.qZA(),e._UZ(22,"ion-input",20),e.TgZ(23,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePasswordVisibility(1))}),e._UZ(24,"ion-icon",18),e.qZA()(),e.TgZ(25,"ion-button",21),e._UZ(26,"ion-icon",22),e.qZA(),e.TgZ(27,"ion-popover",23),e.YNc(28,P,2,0,"ng-template"),e.qZA(),e.TgZ(29,"p",24),e._uU(30," I already have an account\xa0"),e.TgZ(31,"a",25),e._uU(32,"Sign In?"),e.qZA()(),e.TgZ(33,"ion-button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.handleRegister())}),e._uU(34,"Sign Up"),e.qZA(),e.TgZ(35,"div",27),e._uU(36,"Or"),e.qZA(),e.TgZ(37,"ion-button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.handleGoogleAuth())}),e._UZ(38,"ion-icon",29),e._uU(39,"\xa0\xa0Google Signup"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.signUpForm),e.xp6(5),e.Q6J("ngIf",t.signUpForm.get("email").touched),e.xp6(4),e.Q6J("type",t.hidePassword[0]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[0]?"eye-off-outline":"eye-outline"),e.xp6(4),e.Q6J("type",t.hidePassword[1]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[1]?"eye-off-outline":"eye-outline"),e.xp6(2),e.Q6J("name","information-circle-outline"),e.xp6(7),e.Q6J("disabled",!t.signUpForm.valid)}}function U(n,l){1&n&&e._UZ(0,"app-spinner",32),2&n&&e.Q6J("optionalMessage","Signing Up")}let A=(()=>{class n{constructor(t,s,i,u){this.auth=t,this._router=s,this.fb=i,this.toastController=u,this.attemptingSingUp=!1,this.hidePassword=[!0,!0],this.invalidCredentials=!1,this.emailAlreadyInUse=!1,this.invalidEmail=!1}ngOnInit(){this.signUpForm=this.fb.group({email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.pattern("((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,30})")]],confirmPassword:["",[o.kI.required,o.kI.pattern("((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,30})")]]},{validators:f.checkPasswords}),this.signUpForm.valueChanges.subscribe(()=>{this.emailAlreadyInUse=!1,this.invalidEmail=!1})}ngOnDestroy(){console.log("Cleared")}togglePasswordVisibility(t){this.hidePassword[t]=!this.hidePassword[t]}handleRegister(){this.attemptingSingUp=!0,this.auth.SignUp(new m.n(this.signUpForm.get("email").value,"Nombre","Apellido",12,"21313123",[]),this.signUpForm.get("password").value).then(t=>{"success"==t?setTimeout(()=>{this._router.navigate(["home"])},2200):(this.attemptingSingUp=!1,"auth/email-already-in-use"===t.code?(this.emailAlreadyInUse=!0,this.presentToast("bottom","An account already exists for this email")):"auth/invalid-email"===t.code&&(this.invalidEmail=!0,this.presentToast("bottom","The email entered is invalid")))})}presentToast(t,s){var i=this;return(0,p.Z)(function*(){yield(yield i.toastController.create({message:s,duration:2500,position:t,icon:"alert-outline",buttons:[{text:"Dismiss",role:"cancel"}],color:"warning"})).present()})()}handleGoogleAuth(){this.auth.GoogleAuth()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.e),e.Y36(c.F0),e.Y36(o.qu),e.Y36(a.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],hostBindings:function(t,s){1&t&&e.NdJ("unloaded",function(){return s.ngOnDestroy()})},standalone:!0,features:[e.jDz],decls:8,vars:3,consts:[[3,"fullscreen"],["class","container p-4","style","min-height: 100%",4,"ngIf","ngIfElse"],["spinner",""],["color","white"],[1,"copyright"],[1,"container","p-4",2,"min-height","100%"],[1,"row"],[1,"col-12","h1","heading","mt-4"],[1,"col-12","para","ml-5"],[1,"row","mt-5"],[3,"formGroup"],["lines","full",1,"mb-3"],["position","floating"],["type","email","placeholder","name@domain.com","formControlName","email","errorText","Invalid email"],["slot","error",4,"ngIf"],["lines","full","errorText","Invalid password",1,"mb-3"],["placeholder","**********","formControlName","password",3,"type"],["size","default","slot","end","fill","clear",1,"pt-3","icon-button",3,"click"],["color","primary",1,"iconEye",3,"name"],["lines","full","errorText","Invalid password"],["placeholder","**********","formControlName","confirmPassword",3,"type"],["id","pswd-hint","shape","round","fill","clear",1,"mb-3"],["color","warning",1,"iconEye",3,"name"],["trigger","pswd-hint","triggerAction","click"],[1,"signup-text"],["routerLink","/login","routerLinkActive","active"],["expand","block",1,"login-button","mt-4","mb-3",3,"disabled","click"],[1,"separator","mb-3","col-10","offset-1"],["expand","block","color","danger",1,"google-button",3,"click"],["name","logo-google"],["slot","error"],[1,"ion-padding"],[3,"optionalMessage"]],template:function(t,s){if(1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,x,40,8,"div",1),e.YNc(2,U,1,1,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"ion-footer",3)(5,"ion-toolbar")(6,"p",4),e._uU(7,"All rights reserved \u24b8 ACoria 2023"),e.qZA()()()),2&t){const i=e.MAs(3);e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",!s.attemptingSingUp)("ngIfElse",i)}},dependencies:[a.Pc,a.YG,a.W2,a.fr,a.gu,a.pK,a.Ie,a.Q$,a.uN,a.sr,a.d8,a.j9,a.Fo,d.ez,d.O5,o.u5,o._Y,o.JJ,o.JL,c.Bz,c.rH,c.Od,o.UX,o.sg,o.u,h.h,v.O],styles:[".heading[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.para[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:#a6abb1}.login-button[_ngcontent-%COMP%], .google-button[_ngcontent-%COMP%]{height:50px;--border-radius: 12px;--box-shadow: none}.signup-text[_ngcontent-%COMP%]{padding-right:20px;text-align:end}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]{display:block;order:1;width:100%;z-index:10}.copyright[_ngcontent-%COMP%]{text-align:center}.iconEye[_ngcontent-%COMP%]{font-size:26px}.icon-button[_ngcontent-%COMP%]{--ripple-color: #ffffff}"]}),n})()}}]);